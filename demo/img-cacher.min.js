!function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){var r=o(2),i=r.generate(function(t){this.defineProperties({logging:void 0===t.logging||"string"==typeof t.logging?t.logging:"ImgCacher",prefix:t.prefix||"img-"})});i.definePrototype({base64Img:o(3),getImg:o(4),getData:o(5),isValid:o(6),reset:o(7),save:o(8),src:o(9),srcFromLocalStorage:o(10),buildSrc:o(11),log:o(12)}),"undefined"!=typeof window&&(window.ImgCacher=i),t.exports=i},function(t,e,o){var r;!function(){function i(t,e){if(typeof t!==e)throw new TypeError("Expected '"+e+"' but instead found '"+typeof t+"'")}function n(t){var e,o;return!!(t&&"object"==typeof t&&(e=Object.getOwnPropertyNames(t).sort(),1===(o=e.length)&&("get"===e[0]&&"function"==typeof t.get||"set"===e[0]&&"function"==typeof t.set)||2===o&&"get"===e[0]&&"function"==typeof t.get&&"set"===e[1]&&"function"==typeof t.set))}function a(t,e,o){var r,i,a,c={},h=o||e,g=o&&e;for(o=h&&"object"==typeof h?h:{},e=g&&"object"==typeof g?g:{},i=Object.getOwnPropertyNames(o),a=i.length,r=0;r<a;r++)n(o[i[r]])?c[i[r]]={configurable:!!e.configurable,enumerable:!!e.enumerable,get:o[i[r]].get,set:o[i[r]].set}:c[i[r]]={configurable:!!e.configurable,enumerable:!!e.enumerable,writable:!!e.writable,value:o[i[r]]};return Object.defineProperties(t,c),t}function c(){}var h={defineProperties:function(t,e){return a(this,t,e),this},getProto:function(){return Object.getPrototypeOf(this)},getSuper:function(){return Object.getPrototypeOf(this.constructor.prototype)}},g={isGeneration:function(t){return i(t,"function"),this.prototype.isPrototypeOf(t.prototype)},isCreation:function(t){return t instanceof this},generate:function(t){i(t,"function");var e=this;return a(t,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(e.prototype)}),a(t,{configurable:!1,enumerable:!1,writable:!1},g),a(t.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:t,generator:t}),t},definePrototype:function(t,e){return a(this.prototype,t,e),this}};a(c,{configurable:!1,enumerable:!1,writable:!1},{prototype:c.prototype}),a(c.prototype,{configurable:!1,enumerable:!1,writable:!1},h),a(c,{configurable:!1,enumerable:!1,writable:!1},g),a(c,{configurable:!1,enumerable:!1,writable:!1},{isGenerator:function(t){return this.isGeneration(t)},toGenerator:function(t,e){return console.warn("Generator.toGenerator is depreciated please use Generator.generateFrom"),this.generateFrom(t,e)},generateFrom:function(t,e){return i(t,"function"),i(e,"function"),a(e,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(t.prototype)}),a(e,{configurable:!1,enumerable:!1,writable:!1},g),a(e.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:e,generator:e}),a(e.prototype,{configurable:!1,enumerable:!1,writable:!1},h),e}}),Object.freeze(c),Object.freeze(c.prototype),void 0!==(r=function(){return c}.call(e,o,e,t))&&(t.exports=r)}()},function(t,e){function o(t,e){var o=1,r={width:t.width,height:t.height};if(e.fillWidth||e.fillHeight){var i=(void 0!==e.fillWidth?e.fillWidth:0)/r.width,n=(void 0!==e.fillHeight?e.fillHeight:0)/r.height;o=i>n?i:n,r.height=t.height*o,r.width=t.width*o}else e.maxWidth||e.maxHeight?(e.maxWidth&&e.maxHeight?o=Math.min(e.maxWidth/t.width,e.maxHeight/t.height):e.maxWidth?o=e.maxWidth/t.width:e.maxHeight&&(o=e.maxHeight/t.height),r.height=t.height*o,r.width=t.width*o):(e.width||e.height)&&(e.width&&e.height?(r.width=e.width,r.height=e.height):e.width?(o=e.width/t.width,r.width=e.width,r.height=t.height*o):e.height&&(o=e.height/t.height,r.width=t.width*o,r.height=e.height));return r}function r(t,e,o){return{x:void 0!==e.cropX?e.cropX:e.cropWidth?(o.width-e.cropWidth)/-2:0,y:void 0!==e.cropY?e.cropY:e.cropHeight?(o.height-e.cropHeight)/-2:0,width:e.cropWidth||o.width,height:e.cropHeight||o.height}}function i(t,e,o){var r=document.createElement("canvas"),i=r.getContext("2d"),n=document.createElement("canvas"),a=n.getContext("2d");if(r.width=e,r.height=r.width*t.height/t.width,t.width*o>e){var c=1/o,h={width:Math.floor(t.width*o),height:Math.floor(t.height*o)};for(n.width=h.width,n.height=h.height,a.drawImage(t,0,0,h.width,h.height);h.width*o>e;)h={width:Math.floor(h.width*o),height:Math.floor(h.height*o)},a.drawImage(n,0,0,h.width*c,h.height*c,0,0,h.width,h.height);i.drawImage(n,0,0,h.width,h.height,0,0,r.width,r.height)}else i.drawImage(t,0,0,r.width,r.height);return r}var n={};t.exports=function(t,e,a){"function"==typeof e&&(a=e,e={});var c=this,h=c.buildSrc(t.src,e);if(n[h])return c.log("base64Img","fromMemory",t.src,e),a(void 0,n[h]);var g=document.createElement("canvas"),u=g.getContext("2d"),f=o(t,e),l=r(t,e,f),s=i(t,f.width,"number"==typeof e.sharpness&&e.sharpness<1?e.sharpness:.5);g.width=l.width,g.height=l.height,e.bg&&(u.fillStyle=e.bg,u.fillRect(0,0,l.width,l.height)),u.drawImage(s,-1*l.x,-1*l.y,l.width,l.height,0,0,l.width,l.height),u.imageSmoothingEnabled=!0,n[h]=g.toDataURL(),c.log("base64Img","noMemory",t.src,e),a(void 0,n[h],!0)}},function(t,e){function o(t,e,o){for(var i=r[t],n=i.callbacks.length;n--;)i.callbacks[n].call(i.callbacks[n],e,o),delete i.callbacks[n]}var r={};t.exports=function(t,e,i){var n=this,a=r[t];if(a&&!a.error)return a.isLoaded?(n.log("getImg","fromMemory",t,e),i(void 0,a)):(n.log("getImg","fromMemoryLoading",t,e),a.callbacks.push(i));a=r[t]=new Image,a.crossOrigin=!0,a.callbacks=[i],a.onload=function(){a.isLoaded=!0,o(t,void 0,a)},a.onerror=function(e){a.error=e,o(t,e)},"function"==typeof e.src?e.src.call(n,t,function(t){a.src=t}):a.src=e.src||t,n.log("getImg","noMemory",t,e)}},function(t,e){t.exports=function(t,e,o){var r=this;"function"==typeof e&&(o=e,e={}),r.getImg(t,e,function(i,n){if(i)return o(i);r.base64Img(n,e,function(i,n,a){a&&r.save(t,e,n),o(i,n)})})}},function(t,e){t.exports=function(t){var e=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest("Microsoft.XMLHTTP");e.open("HEAD",t,!1);try{return e.send(),e.status>=200&&(e.status<300||304===e.status)}catch(t){return!1}}},function(t,e){t.exports=function(){for(var t,e=this,o=window.localStorage,r=0;r<o.length;r++)t=o.key(r),0===t.indexOf(e.prefix)&&o.removeItem(o.key(r));e.log("reset")}},function(t,e){t.exports=function(t,e,o){var r=this;o||(o=e,e={}),window.localStorage.setItem(r.buildSrc(t,e),o),r.log("save",t,e)}},function(t,e){t.exports=function(t,e,o){var r=this;r.srcFromLocalStorage(r.buildSrc(t,e),function(i,n){if(i)return r.getData(t,e,function(i,n){n?(r.log("getSrc","success","noLocalStorage",t,e),o(void 0,n)):(r.log("getSrc","error",t,e),o(i))});r.log("getSrc","success","fromLocalStorage",t,e),o(void 0,n)})}},function(t,e){t.exports=function(t,e){var o=this;if("data:"===t.slice(0,5))e(void 0,t);else{var r=window.localStorage.getItem(t);r&&o.log("cacheFromSrc","fromLocalStorage",t),e(r?void 0:new Error("Image does not exist."),r)}}},function(t,e){t.exports=function(t,e){var o=this;return e="object"==typeof e?e:{},o.prefix+t+"-"+JSON.stringify(e)}},function(t,e){t.exports=function(){var t=this;if(t.logging){var e=Array.prototype.slice.call(arguments);e.unshift(t.logging+" ~>"),console.debug.apply(console.debug,e)}}}]);